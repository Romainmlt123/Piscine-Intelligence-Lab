# Tuteur IA - PrÃ©sentation I/O

## ğŸ¯ Objectif

**CrÃ©er un assistant vocal Ã©ducatif full-local** qui aide les Ã©tudiants franÃ§ais en mathÃ©matiques, physique et anglais, avec des rÃ©ponses contextualisÃ©es et sourcÃ©es.

---

## ğŸ“¥ INPUT (EntrÃ©es)

### EntrÃ©e Utilisateur
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ¤ VOIX DE L'UTILISATEUR         â”‚
â”‚                                         â”‚
â”‚  "C'est quoi la loi d'Ohm ?"           â”‚
â”‚  "Comment calculer une intÃ©grale ?"    â”‚
â”‚  "Explique le present perfect"         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DonnÃ©es du SystÃ¨me

| Type | Description | Volume |
|------|-------------|--------|
| **Math** | Cahiers 6Ã¨me + Fiches Terminale | 994 chunks |
| **Physique** | Livres 3Ã¨me-Terminale | 1640 chunks |
| **Anglais** | Fiches collÃ¨ge | 6 chunks |
| **Total** | Tous corpus combinÃ©s | **2640 chunks** |

### ModÃ¨les UtilisÃ©s

| ModÃ¨le | Usage | Taille |
|--------|-------|--------|
| Whisper base | STT | ~74MB |
| paraphrase-multilingual-MiniLM-L12-v2 | Embeddings | ~118MB |
| qwen2.5:1.5b | LLM Math | 1.5B params |
| llama3.2:1b | LLM Physics | 1B params |
| gemma:2b | LLM English | 2B params |
| Piper fr_FR-upmc-medium | TTS | ~65MB |

---

## âš™ï¸ PROCESSING (Traitement)

### Pipeline Complet

```
    ğŸ¤ AUDIO                                                    ğŸ”Š AUDIO
       â”‚                                                            â–²
       â–¼                                                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WHISPER   â”‚â”€â”€â”€â–¶â”‚   ROUTER    â”‚â”€â”€â”€â–¶â”‚   RAG +     â”‚â”€â”€â”€â–¶â”‚    PIPER    â”‚
â”‚    (STT)    â”‚    â”‚  (Classify) â”‚    â”‚    LLM      â”‚    â”‚    (TTS)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   MATH    â”‚   â”‚  PHYSICS  â”‚   â”‚  ENGLISH  â”‚
    â”‚           â”‚   â”‚           â”‚   â”‚           â”‚
    â”‚  RAG:     â”‚   â”‚  RAG:     â”‚   â”‚  RAG:     â”‚
    â”‚  994 docs â”‚   â”‚  1640 docsâ”‚   â”‚  6 docs   â”‚
    â”‚           â”‚   â”‚           â”‚   â”‚           â”‚
    â”‚  LLM:     â”‚   â”‚  LLM:     â”‚   â”‚  LLM:     â”‚
    â”‚  qwen2.5:1.5b  â”‚   â”‚  llama3.2:1b â”‚   â”‚  gemma:2b â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DÃ©tail du RAG Hybrid Search

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       QUERY        â”‚
                    â”‚ "loi d'Ohm"        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  VECTOR SEARCH  â”‚           â”‚      BM25       â”‚
    â”‚   (sÃ©mantique)  â”‚           â”‚  (mots-clÃ©s)    â”‚
    â”‚     70%         â”‚           â”‚     30%         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                             â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  RRF FUSION     â”‚
                  â”‚  (k=60)         â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  TOP 5 CHUNKS   â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¤ OUTPUT (Sorties)

### RÃ©ponse Vocale
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ”Š RÃ‰PONSE AUDIO STREAMÃ‰E        â”‚
â”‚                                         â”‚
â”‚  "La loi d'Ohm Ã©tablit que la tension  â”‚
â”‚   U aux bornes d'un conducteur         â”‚
â”‚   ohmique est Ã©gale au produit de      â”‚
â”‚   l'intensitÃ© I par la rÃ©sistance R.   â”‚
â”‚   On Ã©crit U = R Ã— I."                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Interface Web (ChatGPT-style)

| Ã‰lÃ©ment | Description |
|---------|-------------|
| **Avatar** | ğŸ“ pour IA, ğŸ‘¤ pour utilisateur |
| **Badge** | `PHYSICS â€¢ llama3.2:1b` |
| **Texte streaming** | RÃ©ponse token par token |
| **Sources RAG** | 5 chunks avec prÃ©view |
| **MÃ©triques** | STT, LLM, TTS, Total |

---

## ğŸ“Š RÃ©sultats MesurÃ©s

### Performance RAG (Benchmark 20 questions)

| MÃ©trique | Baseline | Hybrid Search | AmÃ©lioration |
|----------|----------|---------------|--------------|
| **Hit Rate** | 46.7% | **80.0%** | **+71%** |
| **MRR** | 0.413 | **0.717** | **+74%** |
| **Latence RAG** | 25ms | **27ms** | +2ms seulement |

### Ã‰volution par ItÃ©ration

| ItÃ©ration | Action | Hit Rate |
|-----------|--------|----------|
| 1 | Benchmark initial | 46.7% |
| 2 | Nettoyage PDFs corrompus | 53.3% |
| 3 | Questions optimisÃ©es | 60.0% |
| **4** | **Hybrid Search (BM25+Vector)** | **80.0%** |

### Niveau de Performance

| MÃ©trique | Valeur | Seuil | Niveau |
|----------|--------|-------|--------|
| Hit Rate | 80% | â‰¥70% = BON | ğŸŸ¢ **BON** |
| MRR | 0.717 | â‰¥0.60 = BON | ğŸŸ¢ **BON** |

---

## ğŸ›ï¸ Architecture ComplÃ¨te

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TUTEUR IA v1.6.0                             â”‚
â”‚                    (Multi-Agent RAG + Voice)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        FRONTEND                               â”‚   â”‚
â”‚  â”‚              index.html (ChatGPT-style)                      â”‚   â”‚
â”‚  â”‚              WebSocket + Audio Streaming                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         BACKEND                               â”‚   â”‚
â”‚  â”‚                    FastAPI + Uvicorn                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   WHISPER  â”‚  â”‚  ROUTER    â”‚  â”‚  AGENTS    â”‚  â”‚   PIPER    â”‚    â”‚
â”‚  â”‚   (STT)    â”‚  â”‚ (Classify) â”‚  â”‚ (RAG+LLM)  â”‚  â”‚   (TTS)    â”‚    â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚    â”‚
â”‚  â”‚  base      â”‚  â”‚ mots-clÃ©s  â”‚  â”‚ 3 agents   â”‚  â”‚ fr_FR      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                    â–¼                     â–¼                     â–¼    â”‚
â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚             â”‚   MATH    â”‚         â”‚  PHYSICS  â”‚         â”‚ ENGLISH â”‚â”‚
â”‚             â”‚           â”‚         â”‚           â”‚         â”‚         â”‚â”‚
â”‚             â”‚ ChromaDB  â”‚         â”‚ ChromaDB  â”‚         â”‚ChromaDB â”‚â”‚
â”‚             â”‚ 994 chunksâ”‚         â”‚1640 chunksâ”‚         â”‚ 6 chunksâ”‚â”‚
â”‚             â”‚           â”‚         â”‚           â”‚         â”‚         â”‚â”‚
â”‚             â”‚ + BM25    â”‚         â”‚ + BM25    â”‚         â”‚ + BM25  â”‚â”‚
â”‚             â”‚           â”‚         â”‚           â”‚         â”‚         â”‚â”‚
â”‚             â”‚ qwen2.5:  â”‚         â”‚ llama3.2: â”‚         â”‚ gemma:  â”‚â”‚
â”‚             â”‚  1.5b    â”‚         â”‚    1b     â”‚         â”‚   2b    â”‚â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… BÃ©nÃ©fices

| Effet | Description |
|-------|-------------|
| ğŸ¯ **PrÃ©cision** | 80% hit rate sur les questions scolaires |
| âš¡ **RapiditÃ©** | 27ms latence RAG |
| ğŸ”’ **Privacy** | 100% local, aucun cloud |
| ğŸ“š **SourÃ§able** | Citations des documents originaux |
| ğŸ—£ï¸ **Vocal** | Mains libres, naturel |

---

## ğŸ”— Liens

- **GitHub** : https://github.com/Romainmlt123/Piscine-Intelligence-Lab
- **Branch** : romain-pipeline-agent-ia
- **Version** : v1.6.0
